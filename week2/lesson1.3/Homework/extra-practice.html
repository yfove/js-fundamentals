<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>More Exercises:</title>
</head>

<body>
    <script>
        // 1. Find out your users name and figure out what time of day it is and then greet your user with the appropriate greeting, "Good morning, good afternoon, or good evening + name". 
        // Hot tip: look at Date() and getHours()




        const time = new Date().getHours();
        console.log(time);

        const greet = (firstName, lastName) => {
            if (time <= 5 && time < 11) {
                console.log(`"Good evening, ${firstName} ${lastName}.`);
            } else if (time > 11 && time < 17) {
                console.log(`"Good morning, ${firstName} ${lastName}.`);
            } else {
                console.log(`"Good afternoon, ${firstName} ${lastName}.`);
            }

        }

        greet("dave", "lee");

        // 2. Age check before liquor website
        // check which province your user is in, then ask for their age. In Quebec, Manitoba, and Alberta the drinking age is 18, and everywhere else in Canada is 19.
        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        const ageCheck = () => {
            //get name
            const name = capitalizeFirstLetter(prompt("Enter your name"));

            //get province
            const province = prompt("Which province are you from?").toLowerCase();
            console.log(province);

            //error if invalid province is entered NOT WORKING
            // if (province !== "ontario" ||
            //     province !== "quebec" ||
            //     province !== "british columbia" ||
            //     province !== "alberta" ||
            //     province !== "nova scotia" ||
            //     province !== "saskatchewan" ||
            //     province !== "manitoba" ||
            //     province !== "newfoundland" ||
            //     province !== "new brunswick" ||
            //     province !== "prince edward island" ||
            //     province !== "yukon" ||
            //     province !== "north west territories" ||
            //     province !== "nunavut") {
            //     return console.error("Please enter a valid province");
            // }

            //get birth year
            const birthYear = parseInt(prompt("What year were you born?"));

            //calculate age
            const currentYear = new Date().getFullYear();
            const age = currentYear - birthYear;

            //determine legal drinking age
            if (province === "quebec" || province === "manitoba" || province === "alberta" && age > 18) {
                console.log(`${name} is of legal drinking age in ${province}`);
            } else if (age > 19) {
                console.log(`${name} is of legal drinking age in ${province}`);
            } else {
                console.log(`${name} is NOT of legal drinking age in ${province}`);
            }
        }

        ageCheck();

        // 3. Create two tax functions. The first will discover the provincal tax rate for a yearly income, and the second will determine the federal tax rate for a yearly income.
        // Bonus: set the default province to Ontario

        // Federal Rates:
        // 15% on the first $46,605 of taxable income, +
        // 20.5% on the next $46,603 of taxable income (on the portion of taxable income over 46,605 up to $93,208), +
        // 26% on the next $51,281 of taxable income (on the portion of taxable income over $93,208 up to $144,489), +
        // 29% on the next $61,353 of taxable income (on the portion of taxable income over 144,489 up to $205,842), +
        // 33% of taxable income over $205,842.

        // const yearlyIncome = prompt("What is your yearly income?");

        const fedTax = (yearlyIncome) => {
            // 15% on the first $46,605 of taxable income
            if (yearlyIncome <= 46605) {
                const fedTax = yearlyIncome * 0.15;
                console.log(`You'll be paying ${fedTax} on your Federal taxes`);
                return fedTax;
                // 20.5% on the next $46,603 of taxable income (on the portion of taxable income over 46,605 up to $93,208)
            } else if (yearlyIncome <= 93208) {
                let fedTax = 46605 * 0.15 + (yearlyIncome - 46605) * 0.205;
                console.log(`You'll be paying ${fedTax} on your Federal taxes`);
                return fedTax;
                // 26% on the next $51,281 of taxable income (on the portion of taxable income over $93,208 up to $144,489)
            } else if (yearlyIncome <= 144489) {
                let fedTax = 46605 * 0.15 + 46605 * 0.205 + (yearlyIncome - 93210) * 0.26;
                console.log(`You'll be paying ${fedTax} on your Federal taxes`);
                return fedTax;
                // 29% on the next $61,353 of taxable income (on the portion of taxable income over 144,489 up to $205,842)
            } else if (yearlyIncome <= 205842) {
                let fedTax = 46605 * 0.15 + 46605 * 0.205 + 51281 * 0.26(yearlyIncome - 144491) * 0.29;
                console.log(`You'll be paying ${fedTax} on your Federal taxes`);
                return fedTax;
                // 33 % of taxable income over $205, 842
            } else if (yearlyIncome > 205842) {
                let fedTax = 46605 * 0.15 + 46605 * 0.205 + 51281 * 0.26 + 61353 * 0.29 + (yearlyIncome - 205844) *
                    0.33;
                console.log(`You'll be paying ${fedTax} on your Federal taxes`);
                return fedTax;
            } else {
                console.log("Please enter your correct yearly income");
            }
        }

        // Provincal Rates 
        // Ontario: 
        // 5.05% on the first $42,960 of taxable income, +
        // 9.15% on the next $42,963, +
        // 11.16% on the next $64,077, +
        // 12.16% on the next $70,000, +
        // 13.16 % on the amount over $220,000

        const provTax = (yearlyIncome) => {
            // 5.05% on the first $42,960 of taxable income
            if (yearlyIncome <= 42960) {
                const provTax = yearlyIncome * 0.0505;
                console.log(`You'll be paying ${provTax} on Provincal taxes`);
                return provTax;
                // 9.15% on the next $42,963
            } else if (yearlyIncome <= 85923) {
                let provTax = 42960 * 0.0505 + (yearlyIncome - 42960) * 0.0915;
                console.log(`You'll be paying ${provTax} on Provincal taxes`);
                return provTax;
                // 11.16% on the next $64,077
            } else if (yearlyIncome <= 144488) {
                let provTax = 42960 * 0.0505 + 42963 * 0.0915 + (yearlyIncome - 85923) * 0.1116;
                console.log(`You'll be paying ${provTax} on Provincal taxes`);
                return provTax;
                // 12.16% on the next $70,000
            } else if (yearlyIncome <= 155923) {
                let provTax = 42960 * 0.0505 + 42963 * 0.0915 + 64077 * 0.1116 + (yearlyIncome - 150000) * 0.1216;
                console.log(`You'll be paying ${provTax} on Provincal taxes`);
                return provTax;
                //13.16 % on the amount over $220, 000
            } else if (yearlyIncome > 220000) {
                let provTax = 42960 * 0.0505 + 42963 * 0.0915 + 64077 * 0.1116 + 70000 * 0.1216 + (yearlyIncome -
                    220000) * 0.1316;
                console.log(`You'll be paying ${provTax} on Provincal taxes`);
                return provTax;
            } else {
                console.log("Please enter your correct yearly income");
            }
        }

        // how do I pass yearlyIncome into fedTax and provTax??????
        const totalTax = (Income) => {
            const totalTax = fedTax(Income) + provTax(Income);
            // alert(fedTax() + provTax());
            console.log(`The total tax you'll be paying is ${totalTax}`);
            return totalTax;
        }

        totalTax(100000);




        //https://www.canada.ca/en/revenue-agency/services/tax/individuals/frequently-asked-questions-individuals/canadian-income-tax-rates-individuals-current-previous-years.html#provincial


        // count from 1 - 100
        const count = () => {
            let total = 0;
            for (let i = 1; i < 100; i++) {
                //if odd number console log it
                if (i % 2 !== 0) {
                    console.log(i);
                    //if even number add to total
                } else {
                    total = total + i;
                }
            }
            console.log(`Total is: ${total}`);
        }

        count();
    </script>
</body>

</html>